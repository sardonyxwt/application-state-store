!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t){void 0===e&&(e="scope"),void 0===t&&(t={});var n=p.uniqueId(e);if(n in d)throw new Error("This scope already exists "+n);return d[n]=p.deepFreeze(t),n}function o(e,n){if(void 0===n&&(n=t.ROOT_SCOPE),!(n in d))throw new Error("This scope not exists "+n);var r=p.uniqueId("store_action");return l[r]={scopeId:n,func:e},r}function i(e,t){var n=l[e];if(!n)throw new Error("This action not exists "+e);var r=n.scopeId,o=d[r];return new Promise(function(e,r){n.func(o,t,e,r)}).then(function(t){return p.deepFreeze(t),p.values(v).filter(function(e){return e.scopeId===r}).forEach(function(n){return n.func({oldScope:o,newScope:t,actionId:e})}),d[r]=t,t})}function u(e,n){if(void 0===n&&(n=t.ROOT_SCOPE),!d[n])throw new Error("This action not exists "+n);var r={scopeId:n,func:e},o=p.uniqueId("listener");return v[o]=r,o}function c(e){delete v[e]}function f(e){return void 0===e&&(e=t.ROOT_SCOPE),d[e]}function s(){return a({},d)}var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),d={},l={},v={};t.ROOT_SCOPE=r("rootScope"),t.default={registerScope:r,registerAction:o,dispatch:i,subscribe:u,unsubscribe:c,getScope:f,getState:s}},function(e,t,n){"use strict";function r(e){return void 0===e&&(e="default"),c[e]?++c[e]:c[e]=0,""+e+(c[e]||"")}function o(e){return Object.getOwnPropertyNames(e)}function i(e){return o(e).map(function(t){return e[t]})}function u(e){return o(e).forEach(function(t){var n=e[t];"object"==typeof n&&null!==n&&u(n)}),Object.freeze(e)}Object.defineProperty(t,"__esModule",{value:!0});var c={};t.uniqueId=r,t.keys=o,t.values=i,t.deepFreeze=u}])});
//# sourceMappingURL=state-store.min.js.map