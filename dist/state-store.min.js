!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(e,t){void 0===e&&(e="scope"),void 0===t&&(t={});var r=a.uniqueId(e);return p.set(r,{actions:new Map,listeners:new Map,scope:a.deepFreeze(t)}),r}function o(e,r){void 0===r&&(r=t.ROOT_SCOPE);var n=p.get(r);if(!n)throw new Error("Scope not exists "+r);var o=a.uniqueId("store_action");return n.actions.set(o,e),o}function i(e,t){var r=Array.from(p.values()).find(function(t){return t.actions.has(e)});if(!r)throw new Error("This action not exists "+e);var n=r.actions.get(e),o=r.scope;return new Promise(function(e,r){n(o,t,e,r)}).then(function(t){return a.deepFreeze(t),r.listeners.forEach(function(r){return r({oldScope:o,newScope:t,actionId:e})}),r.scope=t,t})}function u(e,r){void 0===r&&(r=t.ROOT_SCOPE);var n=p.get(r);if(!n)throw new Error("This scope not exists "+r);var o=a.uniqueId("listener");return n.listeners.set(o,e),o}function c(e){p.forEach(function(t){return t.listeners.delete(e)})}function s(e){void 0===e&&(e=t.ROOT_SCOPE);var r=p.get(e);if(!r)throw new Error("Scope not exists "+e);return r.scope}function f(){var e={};return Array.from(p.entries()).forEach(function(t){var r=t[0],n=t[1];return e[r]=n.scope}),e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),p=new Map;t.ROOT_SCOPE=n("rootScope"),t.default={registerScope:n,registerAction:o,dispatch:i,subscribe:u,unsubscribe:c,getScope:s,getState:f}},function(e,t,r){"use strict";function n(e){return void 0===e&&(e="default"),i[e]?++i[e]:i[e]=0,""+e+(i[e]||"")}function o(e){return Object.getOwnPropertyNames(e).forEach(function(t){var r=e[t];"object"==typeof r&&null!==r&&o(r)}),Object.freeze(e)}Object.defineProperty(t,"__esModule",{value:!0});var i={};t.uniqueId=n,t.deepFreeze=o}])});
//# sourceMappingURL=state-store.min.js.map