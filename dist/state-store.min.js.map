{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dist/state-store.min.js","webpack:///webpack/bootstrap 704a6f278e3a1687f160","webpack:///./src/index.ts","webpack:///./node_modules/@sardonyxwt/utils/object/object.min.js","webpack:///./node_modules/@sardonyxwt/utils/generator/generator.min.js","webpack:///./node_modules/@sardonyxwt/utils/synchronized/synchronized.min.js"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","createScope","initState","generator_1","uniqueId","scopes","Error","scope","ScopeImpl","composeScope","composeScopes","map","getScope","filter","indexOf","length","ComposeScopeImpl","scopeName","getState","state","getOwnPropertyNames","forEach","key","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","__assign","assign","t","arguments","value","object_1","synchronized_1","isFrozen","actionQueue","actions","listeners","registerAction","action","dispatch","actionName","props","_this","deepFreeze","oldState","Promise","resolve","reject","isFirstAction","deferredAction","push","then","newState","shift","subscribe","listener","listenerId","event","synchronize","_a","unsubscribe","id","lock","isLocked","getSupportActions","_super","actionNames","concat","currentState","dispatchPromises","findIndex","it","syncPromises","catch","ROOT_SCOPE","e","r","default","3","freeze","charAt","Math","floor","random","u","join","generateSeed","4","all","cache","has","remove","createSyncCache"],"mappings":"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","file":"./dist/state-store.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"store\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"store\"] = factory();\n\telse\n\t\troot[\"store\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"store\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"store\"] = factory();\n\telse\n\t\troot[\"store\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar object_1 = __webpack_require__(1);\nvar generator_1 = __webpack_require__(2);\nvar synchronized_1 = __webpack_require__(3);\nvar ScopeImpl = /** @class */ (function () {\n    function ScopeImpl(name, state) {\n        this.name = name;\n        this.state = state;\n        this.isFrozen = false;\n        this.actionQueue = [];\n        this.actions = {};\n        this.listeners = {};\n    }\n    ScopeImpl.prototype.registerAction = function (name, action) {\n        if (this.isFrozen) {\n            throw new Error(\"This scope is locked you can't add new action.\");\n        }\n        if (name in this.actions) {\n            throw new Error(\"Action name is duplicate in scope \" + this.name);\n        }\n        this.actions[name] = action;\n    };\n    ScopeImpl.prototype.dispatch = function (actionName, props) {\n        var _this = this;\n        var action = this.actions[actionName];\n        if (!action) {\n            throw new Error(\"This action not exists \" + actionName);\n        }\n        if (props && typeof props === 'object') {\n            object_1.deepFreeze(props);\n        }\n        var oldState;\n        return new Promise(function (resolve, reject) {\n            var isFirstAction = _this.actionQueue.length === 0;\n            var deferredAction = function () {\n                oldState = _this.getState();\n                action(oldState, props, resolve, reject);\n            };\n            _this.actionQueue.push(deferredAction);\n            if (isFirstAction) {\n                deferredAction();\n            }\n        }).then(function (newState) {\n            object_1.deepFreeze(newState);\n            Object.getOwnPropertyNames(_this.listeners).forEach(function (key) { return _this.listeners[key]({ oldState: oldState, newState: newState, actionName: actionName, props: props }); });\n            _this.state = newState;\n            return newState;\n        }).then(function (newState) {\n            _this.actionQueue.shift();\n            if (_this.actionQueue.length > 0) {\n                var deferredAction = _this.actionQueue[0];\n                deferredAction();\n            }\n            return newState;\n        });\n    };\n    ScopeImpl.prototype.subscribe = function (listener, actionName) {\n        if (actionName && !(actionName in this.actions)) {\n            throw new Error(\"Action (\" + actionName + \") not present in scope.\");\n        }\n        var listenerId = generator_1.uniqueId('listener');\n        this.listeners[listenerId] = function (event) {\n            if (!actionName || actionName === event.actionName) {\n                listener(event);\n            }\n        };\n        return listenerId;\n    };\n    ScopeImpl.prototype.synchronize = function (object, key, actionName) {\n        object[key] = this.getState();\n        return this.subscribe(function (_a) {\n            var newState = _a.newState;\n            object[key] = newState;\n        }, actionName);\n    };\n    ScopeImpl.prototype.unsubscribe = function (id) {\n        return delete this.listeners[id];\n    };\n    ScopeImpl.prototype.lock = function () {\n        this.isFrozen = true;\n    };\n    ScopeImpl.prototype.isLocked = function () {\n        return this.isFrozen;\n    };\n    ScopeImpl.prototype.getState = function () {\n        return this.state;\n    };\n    ScopeImpl.prototype.getSupportActions = function () {\n        return Object.getOwnPropertyNames(this.actions);\n    };\n    return ScopeImpl;\n}());\nvar ComposeScopeImpl = /** @class */ (function (_super) {\n    __extends(ComposeScopeImpl, _super);\n    function ComposeScopeImpl(name, scopes) {\n        var _this = _super.call(this, name, {}) || this;\n        _this.name = name;\n        _this.scopes = scopes;\n        var actionNames = [];\n        scopes.forEach(function (scope) {\n            actionNames = actionNames.concat(scope.getSupportActions());\n            scope.lock();\n            scope.subscribe(function (_a) {\n                var actionName = _a.actionName, props = _a.props, oldState = _a.oldState;\n                var currentState = _this.getState();\n                Object.getOwnPropertyNames(_this.listeners)\n                    .forEach(function (key) {\n                    return _this.listeners[key]({\n                        oldState: __assign({}, currentState, (_a = {}, _a[scope.name] = oldState, _a)),\n                        newState: currentState,\n                        actionName: actionName,\n                        props: props\n                    });\n                    var _a;\n                });\n            });\n        });\n        actionNames = actionNames.filter(function (actionName, i, self) { return self.indexOf(actionName) === i; });\n        actionNames.forEach(function (actionName) { return _this.registerAction(actionName, function (state, props, resolve, reject) {\n            var dispatchPromises = scopes.filter(function (scope) { return scope.getSupportActions().findIndex(function (it) { return it === actionName; }) >= 0; }).map(function (scope) { return scope.dispatch(actionName, props); });\n            synchronized_1.syncPromises(dispatchPromises).then(function () { return resolve(_this.getState()); }).catch(reject);\n        }); });\n        _this.lock();\n        return _this;\n    }\n    ComposeScopeImpl.prototype.getState = function () {\n        var state = {};\n        this.scopes.forEach(function (scope) { return state[scope.name] = scope.getState(); });\n        return state;\n    };\n    return ComposeScopeImpl;\n}(ScopeImpl));\nvar scopes = {};\n/**\n * Create a new scope and return it.\n * @param {string} name The name of scope.\n * @default Generate unique name.\n * @param {any} initState The initial scope state.\n * By default use empty object.\n * @return {Scope} Scope.\n * @throws {Error} Will throw an error if name of scope not unique.\n */\nfunction createScope(name, initState) {\n    if (name === void 0) { name = generator_1.uniqueId('scope'); }\n    if (initState === void 0) { initState = null; }\n    if (name in scopes) {\n        throw new Error(\"Scope name must unique\");\n    }\n    var scope = new ScopeImpl(name, initState);\n    scopes[name] = scope;\n    return scope;\n}\nexports.createScope = createScope;\n/**\n * Compose a new scope and return it.\n * @description All scopes is auto lock.\n * @param {string} name The name of scope\n * @param {(Scope | string)[]} scopes Scopes to compose.\n * Length must be greater than one\n * @return {Scope} Compose scope.\n * @throws {Error} Will throw an error if scopes length less fewer than two.\n * @throws {Error} Will throw an error if name of scope not unique.\n */\nfunction composeScope(name, scopes) {\n    if (name in scopes) {\n        throw new Error(\"Scope name must unique\");\n    }\n    var composeScopes = scopes.map(function (scope) { return typeof scope === \"string\" ? getScope(scope) : scope; }).filter(function (scope, i, self) { return scope && self.indexOf(scope) === i; });\n    var MIN_COMPOSE_SCOPE_COUNT = 2;\n    if (composeScopes.length < MIN_COMPOSE_SCOPE_COUNT) {\n        throw new Error(\"Compose scopes length must be greater than one\");\n    }\n    var scope = new ComposeScopeImpl(name, composeScopes);\n    scopes[name] = scope;\n    return scope;\n}\nexports.composeScope = composeScope;\n/**\n * Returns scope.\n * @param {string} scopeName Name scope, to get the Scope.\n * @return {Scope} Scope\n * @throws {Error} Will throw an error if scope not present.\n */\nfunction getScope(scopeName) {\n    if (!scopes[scopeName]) {\n        throw new Error(\"Scope with name \" + scopeName + \" not present\");\n    }\n    return scopes[scopeName];\n}\nexports.getScope = getScope;\n/**\n * Returns all scope states.\n * @return {{string: any}} Scope states\n */\nfunction getState() {\n    var state = {};\n    Object.getOwnPropertyNames(scopes).forEach(function (key) {\n        state[key] = scopes[key].getState();\n    });\n    return state;\n}\nexports.getState = getState;\n/**\n * This scope is global\n * @type {Scope}\n */\nexports.ROOT_SCOPE = createScope('rootScope', {});\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){if(true)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=3)}({3:function(e,t,n){\"use strict\";function r(e){return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];\"object\"==typeof n&&null!==n&&r(n)}),Object.freeze(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.deepFreeze=r}})});\n//# sourceMappingURL=object.min.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){if(true)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([,function(e,t,n){\"use strict\";function r(e){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=[];n.length<e;)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n}function o(e,t){void 0===e&&(e=\"\"),void 0===t&&(t=!1),u[e]?++u[e]:u[e]=1;var n=e+u[e];return t&&(n=n+\"-\"+r(8).join(\"\")),n}Object.defineProperty(t,\"__esModule\",{value:!0});var u={};t.generateSeed=r,t.uniqueId=o}])});\n//# sourceMappingURL=generator.min.js.map\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){if(true)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=4)}({4:function(e,t,n){\"use strict\";function r(e){return new i(e)}function o(e){return Promise.all(e.map(function(e){return Promise.resolve(e)}))}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e){this.action=e,this.cache={}}return e.prototype.get=function(e){if(e in this.cache)return this.cache[e];var t=this.action(e);return this.cache[e]=t,t},e.prototype.has=function(e){return e in this.cache},e.prototype.remove=function(e){var t=this,n=this.has(e);return n&&this.get(e).then(function(){return delete t.cache[e]}),n},e}();t.createSyncCache=r,t.syncPromises=o}})});\n//# sourceMappingURL=synchronized.min.js.map\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// dist/state-store.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 704a6f278e3a1687f160","import { deepFreeze } from '@sardonyxwt/utils/object';\nimport { uniqueId } from '@sardonyxwt/utils/generator';\nimport { syncPromises } from '@sardonyxwt/utils/synchronized';\n\nexport type Listener<T> = (event: { newState: T, oldState: T, actionName: string, props }) => void;\nexport type Action<T> = (state: T, props, resolve: (newState: T) => void, reject: (error) => void) => void;\n\nexport interface Scope<T = any> {\n\n  /**\n   * @var Scope name.\n   * Name unique for scope.\n   */\n  readonly name: string;\n\n  /**\n   * Registers a new action in scope.\n   * @param {string} name The action name.\n   * @param {Action} action The action that changes the state of scope\n   * @throws {Error} Will throw an error if the scope locked or action name exists in scope\n   * when it is called.\n   */\n  registerAction(name: string, action: Action<T>): void;\n\n  /**\n   * Dispatches an action. It is the only way to trigger a scope change.\n   * @param {string} actionName Triggered action with same name.\n   * This action change state of scope and return new state.\n   * You can use resolve to change the state or reject to throw an exception.\n   * @param {any?} props Additional data for the correct operation of the action.\n   * @return {Promise<>} You can use the promise to get a new state of scope\n   * or catch errors.\n   * @throws {Error} Will throw an error if the actionName not present in scope.\n   */\n  dispatch(actionName: string, props?): Promise<T>;\n\n  /**\n   * Adds a scope change listener.\n   * It will be called any time an action is dispatched.\n   * @param {Listener} listener A callback to be invoked on every dispatch.\n   * @param {string} actionName Specific action to subscribe.\n   * @return {string} A listener id to remove this change listener later.\n   * @throws {Error} Will throw an error if actionName not present in scope.\n   */\n  subscribe(listener: Listener<T>, actionName?: string): string;\n\n  /**\n   * Removes a scope change listener.\n   * @param {string} id Id of the listener to delete.\n   */\n  unsubscribe(id: string): boolean;\n\n  /**\n   * Adds a scope synchronized listener.\n   * It will be called any time an action is dispatched.\n   * @param {object} object Object to synchronized.\n   * @param {string} key Object property key for synchronized.\n   * @param {string} actionName Specific action to synchronize.\n   * @return {string} A listener id to remove this change listener later.\n   * @throws {Error} Will throw an error if actionName not present in scope.\n   */\n  synchronize(object: object, key: string, actionName?: string): string;\n\n  /**\n   * Prevents the addition of new actions to scope.\n   */\n  lock(): void;\n\n  /**\n   * Check is locked status.\n   * @return Is locked status.\n   */\n  isLocked(): boolean;\n\n  /**\n   * Returns scope state.\n   * @return Scope state.\n   */\n  getState(): T;\n\n  /**\n   * Returns support actions.\n   * @return Support actions.\n   */\n  getSupportActions(): string[];\n\n}\n\nclass ScopeImpl<T = any> implements Scope<T> {\n\n  private isFrozen = false;\n  private actionQueue: (() => void)[] = [];\n  protected actions: { [key: string]: Action<T> } = {};\n  protected listeners: { [key: string]: Listener<T> } = {};\n\n  constructor(readonly name: string, private state: T) {\n  }\n\n  registerAction(name: string, action: Action<T>) {\n    if (this.isFrozen) {\n      throw new Error(`This scope is locked you can't add new action.`);\n    }\n    if (name in this.actions) {\n      throw new Error(`Action name is duplicate in scope ${this.name}`);\n    }\n    this.actions[name] = action;\n  }\n\n  dispatch(actionName: string, props?) {\n    const action: Action<T> = this.actions[actionName];\n\n    if (!action) {\n      throw new Error(`This action not exists ${actionName}`);\n    }\n\n    if(props && typeof props === 'object') {\n      deepFreeze(props);\n    }\n\n    let oldState;\n\n    return new Promise<T>((resolve, reject) => {\n      const isFirstAction  = this.actionQueue.length === 0;\n      const deferredAction = () => {\n        oldState = this.getState();\n        action(oldState, props, resolve, reject);\n      };\n      this.actionQueue.push(deferredAction);\n      if (isFirstAction) {\n        deferredAction();\n      }\n    }).then(newState => {\n      deepFreeze(newState);\n      Object.getOwnPropertyNames(this.listeners).forEach(\n        key => this.listeners[key]({oldState, newState, actionName, props})\n      );\n      this.state = newState;\n      return newState;\n    }).then(newState => {\n      this.actionQueue.shift();\n      if (this.actionQueue.length > 0) {\n        const deferredAction = this.actionQueue[0];\n        deferredAction();\n      }\n      return newState;\n    });\n  }\n\n  subscribe(listener: Listener<T>, actionName?: string) {\n    if (actionName && !(actionName in this.actions)) {\n      throw new Error(`Action (${actionName}) not present in scope.`);\n    }\n    const listenerId = uniqueId('listener');\n    this.listeners[listenerId] = event => {\n      if (!actionName || actionName === event.actionName) {\n        listener(event);\n      }\n    };\n    return listenerId;\n  }\n\n  synchronize(object: object, key: string, actionName?: string) {\n    object[key] = this.getState();\n    return this.subscribe(({newState}) => {\n      object[key] = newState;\n    }, actionName);\n  }\n\n  unsubscribe(id: string) {\n    return delete this.listeners[id];\n  }\n\n  lock() {\n    this.isFrozen = true;\n  }\n\n  isLocked() {\n    return this.isFrozen;\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  getSupportActions() {\n    return Object.getOwnPropertyNames(this.actions);\n  }\n\n}\n\nclass ComposeScopeImpl extends ScopeImpl<{}> {\n\n  constructor(readonly name: string, private scopes: Scope[]) {\n    super(name, {});\n\n    let actionNames: string[] = [];\n\n    scopes.forEach(scope => {\n      actionNames = [...actionNames, ...scope.getSupportActions()];\n\n      scope.lock();\n      scope.subscribe(({actionName, props, oldState}) => {\n        const currentState = this.getState();\n        Object.getOwnPropertyNames(this.listeners)\n          .forEach(key => this.listeners[key]({\n            oldState: {...currentState, [scope.name]: oldState},\n            newState: currentState,\n            actionName,\n            props\n          }));\n      });\n    });\n\n    actionNames = actionNames.filter(\n      (actionName, i, self) => self.indexOf(actionName) === i\n    );\n\n    actionNames.forEach(actionName => this.registerAction(\n      actionName, (state, props, resolve, reject) => {\n        let dispatchPromises = scopes.filter(\n          scope => scope.getSupportActions().findIndex(\n            it => it === actionName\n          ) >= 0\n        ).map(scope => scope.dispatch(actionName, props));\n        syncPromises(dispatchPromises).then(\n          () => resolve(this.getState())\n        ).catch(reject);\n      }\n    ));\n\n    this.lock();\n  }\n\n  getState(): {} {\n    let state = {};\n\n    this.scopes.forEach(\n      scope => state[scope.name] = scope.getState()\n    );\n\n    return state;\n  }\n\n}\n\nconst scopes: { [key: string]: Scope<any> } = {};\n\n/**\n * Create a new scope and return it.\n * @param {string} name The name of scope.\n * @default Generate unique name.\n * @param {any} initState The initial scope state.\n * By default use empty object.\n * @return {Scope} Scope.\n * @throws {Error} Will throw an error if name of scope not unique.\n */\nexport function createScope<T>(name = uniqueId('scope'), initState: T = null): Scope<T> {\n  if (name in scopes) {\n    throw new Error(`Scope name must unique`);\n  }\n  const scope = new ScopeImpl<T>(name, initState);\n  scopes[name] = scope;\n  return scope;\n}\n\n/**\n * Compose a new scope and return it.\n * @description All scopes is auto lock.\n * @param {string} name The name of scope\n * @param {(Scope | string)[]} scopes Scopes to compose.\n * Length must be greater than one\n * @return {Scope} Compose scope.\n * @throws {Error} Will throw an error if scopes length less fewer than two.\n * @throws {Error} Will throw an error if name of scope not unique.\n */\nexport function composeScope(name, scopes: (Scope | string)[]): Scope {\n  if (name in scopes) {\n    throw new Error(`Scope name must unique`);\n  }\n  let composeScopes = scopes.map(\n    scope => typeof scope === \"string\" ? getScope(scope) : scope\n  ).filter(\n    (scope, i, self) => scope && self.indexOf(scope) === i\n  );\n  const MIN_COMPOSE_SCOPE_COUNT = 2;\n  if (composeScopes.length < MIN_COMPOSE_SCOPE_COUNT) {\n    throw new Error(`Compose scopes length must be greater than one`);\n  }\n  const scope = new ComposeScopeImpl(name, composeScopes);\n  scopes[name] = scope;\n  return scope;\n}\n\n/**\n * Returns scope.\n * @param {string} scopeName Name scope, to get the Scope.\n * @return {Scope} Scope\n * @throws {Error} Will throw an error if scope not present.\n */\nexport function getScope(scopeName: string) {\n  if (!scopes[scopeName]) {\n    throw new Error(`Scope with name ${scopeName} not present`);\n  }\n  return scopes[scopeName];\n}\n\n/**\n * Returns all scope states.\n * @return {{string: any}} Scope states\n */\nexport function getState() {\n  const state = {};\n  Object.getOwnPropertyNames(scopes).forEach(key => {\n    state[key] = scopes[key].getState();\n  });\n  return state;\n}\n\n/**\n * This scope is global\n * @type {Scope}\n */\nexport const ROOT_SCOPE = createScope('rootScope', {});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=3)}({3:function(e,t,n){\"use strict\";function r(e){return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];\"object\"==typeof n&&null!==n&&r(n)}),Object.freeze(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.deepFreeze=r}})});\n//# sourceMappingURL=object.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@sardonyxwt/utils/object/object.min.js\n// module id = 1\n// module chunks = 0","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([,function(e,t,n){\"use strict\";function r(e){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=[];n.length<e;)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n}function o(e,t){void 0===e&&(e=\"\"),void 0===t&&(t=!1),u[e]?++u[e]:u[e]=1;var n=e+u[e];return t&&(n=n+\"-\"+r(8).join(\"\")),n}Object.defineProperty(t,\"__esModule\",{value:!0});var u={};t.generateSeed=r,t.uniqueId=o}])});\n//# sourceMappingURL=generator.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@sardonyxwt/utils/generator/generator.min.js\n// module id = 2\n// module chunks = 0","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=4)}({4:function(e,t,n){\"use strict\";function r(e){return new i(e)}function o(e){return Promise.all(e.map(function(e){return Promise.resolve(e)}))}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e){this.action=e,this.cache={}}return e.prototype.get=function(e){if(e in this.cache)return this.cache[e];var t=this.action(e);return this.cache[e]=t,t},e.prototype.has=function(e){return e in this.cache},e.prototype.remove=function(e){var t=this,n=this.has(e);return n&&this.get(e).then(function(){return delete t.cache[e]}),n},e}();t.createSyncCache=r,t.syncPromises=o}})});\n//# sourceMappingURL=synchronized.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@sardonyxwt/utils/synchronized/synchronized.min.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}